<?php/** * PRODUCTOS_MYSQL.class.php *  **/class PRODUCTOS_MYSQL {	public static $DATABASE_NAME = 'posgourmet';	public static $TABLE_NAME = 'productos_mysql';public $CONN;	public $id ;	public $cod_prod ;	public $nom_prod ;	public $cantidad ;	public $pre_venta ;	public $unid ;	public $grupo ;	public $disponible ;	public $estado ;	public $presa ;	public $familia ;	public $unidad ;	public $pre_costo ;	public $colores ;	public $nuevo ;	public $stock ;	public $cantidadac ;	public $factor ;	public $agrupa1 ;	public $agrupa2 ;	public $agrupa3 ;	public $cod_grupo ;	public $cod_ins ;	public $posicion ;	public $img ;	public $colorletra ;	public $barcode ;	/**	 * @var ORDENES	 */	public $ordenes ;	/**	 * @var ORDENES1	 */	public $ordenes1 ;	/**	 * @var DECONSUMO	 */	public $deconsumo ;	/**	 * @var INVISIBLE	 */	public $invisible ;	/**	 * @var CODEQR	 */	public $codeqr ;	public $f_vence ;	/**	 * @var GRUPOCMDS	 */	public $grupocmds ;	/**	 * @var GRUPOCMDS1	 */	public $grupocmds1 ;	/**	 * @var INDICE	 */	public $indice ;	public $dia ;	public $tiempo ;	public $tiempo_ini ;	public $tiempo_fin ;	public $impcoc ;	public $imppunt1 ;	public $imppunt2 ;	public $imppunt3 ;	public $imppunt4 ;	public $imgnormal ;	public $lun ;	public $mar ;	public $mier ;	public $jue ;	public $vie ;	public $sab ;	public $dom ;	public $hora_inicio ;	public $hora_fin ;function PRODUCTOS_MYSQL($con) {$this->CON=$con;}	function contructor($id,$cod_prod,$nom_prod,$cantidad,$pre_venta,$unid,$grupo,$disponible,$estado,$presa,$familia,$unidad,$pre_costo,$colores,$nuevo,$stock,$cantidadac,$factor,$agrupa1,$agrupa2,$agrupa3,$cod_grupo,$cod_ins,$posicion,$img,$colorletra,$barcode,$ordenes,$ordenes1,$deconsumo,$invisible,$codeqr,$f_vence,$grupocmds,$grupocmds1,$indice,$dia,$tiempo,$tiempo_ini,$tiempo_fin,$impcoc,$imppunt1,$imppunt2,$imppunt3,$imppunt4,$imgnormal,$lun,$mar,$mier,$jue,$vie,$sab,$dom,$hora_inicio,$hora_fin){	$this->id=$id;	$this->cod_prod=$cod_prod;	$this->nom_prod=$nom_prod;	$this->cantidad=$cantidad;	$this->pre_venta=$pre_venta;	$this->unid=$unid;	$this->grupo=$grupo;	$this->disponible=$disponible;	$this->estado=$estado;	$this->presa=$presa;	$this->familia=$familia;	$this->unidad=$unidad;	$this->pre_costo=$pre_costo;	$this->colores=$colores;	$this->nuevo=$nuevo;	$this->stock=$stock;	$this->cantidadac=$cantidadac;	$this->factor=$factor;	$this->agrupa1=$agrupa1;	$this->agrupa2=$agrupa2;	$this->agrupa3=$agrupa3;	$this->cod_grupo=$cod_grupo;	$this->cod_ins=$cod_ins;	$this->posicion=$posicion;	$this->img=$img;	$this->colorletra=$colorletra;	$this->barcode=$barcode;	$this->ordenes=$ordenes;	$this->ordenes1=$ordenes1;	$this->deconsumo=$deconsumo;	$this->invisible=$invisible;	$this->codeqr=$codeqr;	$this->f_vence=$f_vence;	$this->grupocmds=$grupocmds;	$this->grupocmds1=$grupocmds1;	$this->indice=$indice;	$this->dia=$dia;	$this->tiempo=$tiempo;	$this->tiempo_ini=$tiempo_ini;	$this->tiempo_fin=$tiempo_fin;	$this->impcoc=$impcoc;	$this->imppunt1=$imppunt1;	$this->imppunt2=$imppunt2;	$this->imppunt3=$imppunt3;	$this->imppunt4=$imppunt4;	$this->imgnormal=$imgnormal;	$this->lun=$lun;	$this->mar=$mar;	$this->mier=$mier;	$this->jue=$jue;	$this->vie=$vie;	$this->sab=$sab;	$this->dom=$dom;	$this->hora_inicio=$hora_inicio;	$this->hora_fin=$hora_fin;			}function insertar() { $consulta="INSERT INTO productos_mysql(id,cod_prod,nom_prod,cantidad,pre_venta,unid,grupo,disponible,estado,presa,familia,unidad,pre_costo,colores,nuevo,stock,cantidadac,factor,agrupa1,agrupa2,agrupa3,cod_grupo,cod_ins,posicion,img,colorletra,barcode,ordenes,ordenes1,deconsumo,invisible,codeqr,f_vence,grupocmds,grupocmds1,indice,dia,tiempo,tiempo_ini,tiempo_fin,impcoc,imppunt1,imppunt2,imppunt3,imppunt4,imgnormal,lun,mar,mier,jue,vie,sab,dom,hora_inicio,hora_fin)values('".$this->id."','".$this->cod_prod."','".$this->nom_prod."','".$this->cantidad."','".$this->pre_venta."','".$this->unid."','".$this->grupo."','".$this->disponible."','".$this->estado."','".$this->presa."','".$this->familia."','".$this->unidad."','".$this->pre_costo."','".$this->colores."','".$this->nuevo."','".$this->stock."','".$this->cantidadac."','".$this->factor."','".$this->agrupa1."','".$this->agrupa2."','".$this->agrupa3."','".$this->cod_grupo."','".$this->cod_ins."','".$this->posicion."','".$this->img."','".$this->colorletra."','".$this->barcode."','".$this->ordenes."','".$this->ordenes1."','".$this->deconsumo."','".$this->invisible."','".$this->codeqr."','".$this->f_vence."','".$this->grupocmds."','".$this->grupocmds1."','".$this->indice."','".$this->dia."','".$this->tiempo."','".$this->tiempo_ini."','".$this->tiempo_fin."','".$this->impcoc."','".$this->imppunt1."','".$this->imppunt2."','".$this->imppunt3."','".$this->imppunt4."','".$this->imgnormal."','".$this->lun."','".$this->mar."','".$this->mier."','".$this->jue."','".$this->vie."','".$this->sab."','".$this->dom."','".$this->hora_inicio."','".$this->hora_fin."')"; return $this->CON->manipular($consulta);}function rellenar($resultado){        if ($resultado->num_rows > 0) {            $lista=array();            while($row = $resultado->fetch_assoc()) {	$productos_mysql= new PRODUCTOS_MYSQL("");		$productos_mysql->id=$row["id"] ==null?"":$row["id"];		$productos_mysql->cod_prod=$row["cod_prod"] ==null?"":$row["cod_prod"];		$productos_mysql->nom_prod=$row["nom_prod"] ==null?"":$row["nom_prod"];		$productos_mysql->cantidad=$row["cantidad"] ==null?"":$row["cantidad"];		$productos_mysql->pre_venta=$row["pre_venta"] ==null?"":$row["pre_venta"];		$productos_mysql->unid=$row["unid"] ==null?"":$row["unid"];		$productos_mysql->grupo=$row["grupo"] ==null?"":$row["grupo"];		$productos_mysql->disponible=$row["disponible"] ==null?"":$row["disponible"];		$productos_mysql->estado=$row["estado"] ==null?"":$row["estado"];		$productos_mysql->presa=$row["presa"] ==null?"":$row["presa"];		$productos_mysql->familia=$row["familia"] ==null?"":$row["familia"];		$productos_mysql->unidad=$row["unidad"] ==null?"":$row["unidad"];		$productos_mysql->pre_costo=$row["pre_costo"] ==null?"":$row["pre_costo"];		$productos_mysql->colores=$row["colores"] ==null?"":$row["colores"];		$productos_mysql->nuevo=$row["nuevo"] ==null?"":$row["nuevo"];		$productos_mysql->stock=$row["stock"] ==null?"":$row["stock"];		$productos_mysql->cantidadac=$row["cantidadac"] ==null?"":$row["cantidadac"];		$productos_mysql->factor=$row["factor"] ==null?"":$row["factor"];		$productos_mysql->agrupa1=$row["agrupa1"] ==null?"":$row["agrupa1"];		$productos_mysql->agrupa2=$row["agrupa2"] ==null?"":$row["agrupa2"];		$productos_mysql->agrupa3=$row["agrupa3"] ==null?"":$row["agrupa3"];		$productos_mysql->cod_grupo=$row["cod_grupo"] ==null?"":$row["cod_grupo"];		$productos_mysql->cod_ins=$row["cod_ins"] ==null?"":$row["cod_ins"];		$productos_mysql->posicion=$row["posicion"] ==null?"":$row["posicion"];		$productos_mysql->img=$row["img"] ==null?"":$row["img"];		$productos_mysql->colorletra=$row["colorletra"] ==null?"":$row["colorletra"];		$productos_mysql->barcode=$row["barcode"] ==null?"":$row["barcode"];		$productos_mysql->ordenes=$row["ordenes"] ==null?"":$row["ordenes"];		$productos_mysql->ordenes1=$row["ordenes1"] ==null?"":$row["ordenes1"];		$productos_mysql->deconsumo=$row["deconsumo"] ==null?"":$row["deconsumo"];		$productos_mysql->invisible=$row["invisible"] ==null?"":$row["invisible"];		$productos_mysql->codeqr=$row["codeqr"] ==null?"":$row["codeqr"];		$productos_mysql->f_vence=$row["f_vence"] ==null?"":$row["f_vence"];		$productos_mysql->grupocmds=$row["grupocmds"] ==null?"":$row["grupocmds"];		$productos_mysql->grupocmds1=$row["grupocmds1"] ==null?"":$row["grupocmds1"];		$productos_mysql->indice=$row["indice"] ==null?"":$row["indice"];		$productos_mysql->dia=$row["dia"] ==null?"":$row["dia"];		$productos_mysql->tiempo=$row["tiempo"] ==null?"":$row["tiempo"];		$productos_mysql->tiempo_ini=$row["tiempo_ini"] ==null?"":$row["tiempo_ini"];		$productos_mysql->tiempo_fin=$row["tiempo_fin"] ==null?"":$row["tiempo_fin"];		$productos_mysql->impcoc=$row["impcoc"] ==null?"":$row["impcoc"];		$productos_mysql->imppunt1=$row["imppunt1"] ==null?"":$row["imppunt1"];		$productos_mysql->imppunt2=$row["imppunt2"] ==null?"":$row["imppunt2"];		$productos_mysql->imppunt3=$row["imppunt3"] ==null?"":$row["imppunt3"];		$productos_mysql->imppunt4=$row["imppunt4"] ==null?"":$row["imppunt4"];		$productos_mysql->imgnormal=$row["imgnormal"] ==null?"":$row["imgnormal"];		$productos_mysql->lun=$row["lun"] ==null?"":$row["lun"];		$productos_mysql->mar=$row["mar"] ==null?"":$row["mar"];		$productos_mysql->mier=$row["mier"] ==null?"":$row["mier"];		$productos_mysql->jue=$row["jue"] ==null?"":$row["jue"];		$productos_mysql->vie=$row["vie"] ==null?"":$row["vie"];		$productos_mysql->sab=$row["sab"] ==null?"":$row["sab"];		$productos_mysql->dom=$row["dom"] ==null?"":$row["dom"];		$productos_mysql->hora_inicio=$row["hora_inicio"] ==null?"":$row["hora_inicio"];		$productos_mysql->hora_fin=$row["hora_fin"] ==null?"":$row["hora_fin"];		$lista[]=$productos_mysql;};	return $lista;}	else{            return null;        }}function todo(){        $consulta="select * from productos_mysql";        $result=$this->CON->consulta($consulta);        return $this->rellenar($result);    }function buscarXID($id){        $consulta="select * from productos_mysql where id=".$id;        $result=$this->CON->consulta($consulta);        $productos_mysql=$this->rellenar($result);        if($productos_mysql==null){            return null;        }        return $productos_mysql;    }  function mostrar($id){        $consulta="select productos_mysql.id, cod_prod, nom_prod, cantidad, pre_venta, unid, productos_mysql.grupo, disponible, productos_mysql.estado, presa, familia, unidad, pre_costo, productos_mysql.colores, nuevo, stock, cantidadac, factor, agrupa1, agrupa2, agrupa3, productos_mysql.cod_grupo, cod_ins, posicion, productos_mysql.img, productos_mysql.colorletra, barcode, ordenes, ordenes1, deconsumo, productos_mysql.invisible, codeqr, f_vence, grupocmds, grupocmds1, indice, productos_mysql.dia, tiempo, tiempo_ini, tiempo_fin, impcoc, imppunt1, imppunt2, imppunt3, imppunt4, productos_mysql.imgnormal, lun, mar, mier, jue, vie, sab, dom, hora_inicio, hora_fin from productos_mysql,menugrupo_mysql where productos_mysql.grupo=menugrupo_mysql.GRUPO and  productos_mysql.f_vence>=CURDATE() and  productos_mysql.grupo=".$id." ORDER BY productos_mysql.id";          $result=$this->CON->consulta($consulta);        $relproins_mysql=$this->rellenar($result);        if($relproins_mysql==null){            return "";        }        return $relproins_mysql;    }    function modificarTodo($id,$nom_prod,$cantidad,$pre_venta,$unid,$grupo,$estado,$presa,$unidad,$colores,$barcode,$indice,$codeqr,$f_vence,$tiempo,$tiempo_ini,$tiempo_fin,$impcoc,$imppunt1,$imppunt2,$imppunt3,$imppunt4,$imgnormal,$lun,$mar,$mier,$jue,$vie,$sab,$dom,$hora_inicio,$hora_fin) {   $consulta="update productos_mysql set  nom_prod='".$nom_prod."',cantidad='".$cantidad."',pre_venta='".$pre_venta."',unid=".$unid.",grupo='".$grupo."',estado='".$estado."',presa='".$presa."',unidad='".$unidad."',colores='".$colores."',barcode='".$barcode."',indice='".$indice."',codeqr='".$codeqr."',f_vence='".$f_vence."',tiempo='".$tiempo."',tiempo_ini='".$tiempo_ini."',tiempo_fin='".$tiempo_fin."',impcoc='".$impcoc."',imppunt1='".$imppunt1."',imppunt2='".$imppunt2."',imppunt3='".$imppunt3."',imppunt4='".$imppunt4."',imgnormal='".$imgnormal."',lun='".$lun."',mar='".$mar."',mier='".$mier."',jue='".$jue."',vie='".$vie."',sab='".$sab."',dom='".$dom."',hora_inicio='".$hora_inicio."',hora_fin='".$hora_fin."'  where id=".$id; return $this->CON->manipular($consulta);}function buscarProductoKeyUp($nomProd){ $consulta="SELECT * FROM productos_mysql where NOM_PROD like '%$nomProd%' ";          $result=$this->CON->consulta($consulta);        $relproins_mysql=$this->rellenar($result);        if($relproins_mysql==null){            return "";        }        return $relproins_mysql;}function buscarProductoCodBarra($codProdBarra){	 $consulta="SELECT * FROM productos_mysql where barcode='$codProdBarra' ";          $result=$this->CON->consulta($consulta);        $relproins_mysql=$this->rellenar($result);        if($relproins_mysql==null){            return "";        }        return $relproins_mysql;}function desactivarProducto($idProducto){	  $consulta="update productos_mysql set estado='INACTIVO' WHERE id=$idProducto";	return $this->CON->manipular($consulta);}function moverProductoMenu($idProducto,$grupo){	$consulta="update productos_mysql set grupo=$grupo WHERE id=$idProducto";	return $this->CON->manipular($consulta);}}