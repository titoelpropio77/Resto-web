<?php/** * MESAS_MYSQL.class.php * MESAS **/class MESAS_MYSQL {	public static $DATABASE_NAME = 'posgourmet';	public static $TABLE_NAME = 'mesas_mysql';public $CONN;	public $ID ;	/**	 * @var NRO_MESA	 */	public $NRO_MESA ;	/**	 * @var ESTADO	 */	public $ESTADO ;	/**	 * @var USO	 */	public $USO ;	/**	 * @var ORDEN	 */	public $ORDEN ;	/**	 * @var COLORES	 */	public $COLORES ;	/**	 * @var PROCESANDO	 */	public $PROCESANDO ;	public $DELETEADO ;	public $NROPERSONA ;	public $NROORDEN ;	public $NOM_CLI ;function MESAS_MYSQL($con) {$this->CON=$con;}	function contructor($ID,$NRO_MESA,$ESTADO,$USO,$ORDEN,$COLORES,$PROCESANDO,$DELETEADO,$NROPERSONA,$NROORDEN,$NOM_CLI){	$this->ID=$ID;	$this->NRO_MESA=$NRO_MESA;	$this->ESTADO=$ESTADO;	$this->USO=$USO;	$this->ORDEN=$ORDEN;	$this->COLORES=$COLORES;	$this->PROCESANDO=$PROCESANDO;	$this->DELETEADO=$DELETEADO;	$this->NROPERSONA=$NROPERSONA;	$this->NROORDEN=$NROORDEN;	$this->NOM_CLI=$NOM_CLI;	}function insertar() {  $consulta="INSERT INTO mesas_mysql(ID,NRO_MESA,ESTADO,USO,ORDEN,COLORES,PROCESANDO,DELETEADO,NROPERSONA,NROORDEN,NOM_CLI)values('".$this->ID."','".$this->NRO_MESA."','".$this->ESTADO."','".$this->USO."',".$this->ORDEN.",'".$this->COLORES."','".$this->PROCESANDO."','".$this->DELETEADO."','".$this->NROPERSONA."','".$this->NROORDEN."','".$this->NOM_CLI."')"; return $this->CON->manipular($consulta);}function rellenar($resultado){        if (count($resultado) > 0) {            $lista=array();            while($row = $resultado->fetch_assoc()) {	$mesas_mysql= new MESAS_MYSQL("");		$mesas_mysql->ID=$row["ID"] ==null?"":$row["ID"];		$mesas_mysql->NRO_MESA=$row["NRO_MESA"] ==null?"":$row["NRO_MESA"];		$mesas_mysql->ESTADO=$row["ESTADO"] ==null?"":$row["ESTADO"];		$mesas_mysql->USO=$row["USO"] ==null?"":$row["USO"];		$mesas_mysql->ORDEN=$row["ORDEN"] ==null?"":$row["ORDEN"];		$mesas_mysql->COLORES=$row["COLORES"] ==null?"":$row["COLORES"];		$mesas_mysql->PROCESANDO=$row["PROCESANDO"] ==null?"":$row["PROCESANDO"];		$mesas_mysql->DELETEADO=$row["DELETEADO"] ==null?"":$row["DELETEADO"];		$mesas_mysql->NROPERSONA=$row["NROPERSONA"] ==null?"":$row["NROPERSONA"];		$mesas_mysql->NROORDEN=$row["NROORDEN"] ==null?"0":$row["NROORDEN"];		$mesas_mysql->NOM_CLI=$row["NOM_CLI"] ==null?"":$row["NOM_CLI"];		$lista[]=$mesas_mysql;};	return $lista;}	else{            return null;        }}function todo(){        $consulta="select * from mesas_mysql";        $result=$this->CON->consulta($consulta);        return $this->rellenar($result);    }function buscarXID($id){        $consulta="select * from mesas_mysql where ID=".$id;        $result=$this->CON->consulta($consulta);        $mesas_mysql=$this->rellenar($result);        if($mesas_mysql==null){            return null;        }        return $mesas_mysql;    }function modificarUso($id,$nroOrdenMesa,$color,$persona,$salon){	$nombreCli=$salon=="salon"?$persona:"";	$persona=$salon=="nosalon"?$persona:"";   	 $consulta="update mesas_mysqlset mesas_mysql.NROORDEN=".$nroOrdenMesa.", mesas_mysql.USO='S',  mesas_mysql.COLORES='".$color."', mesas_mysql.NROPERSONA='".$persona."', mesas_mysql.NOM_CLI='".$nombreCli."'where mesas_mysql.ID=".$id;   	return $this->CON->manipular($consulta);   }function mesaProcesando($idMesa){	   	 $consulta="update mesas_mysqlset mesas_mysql.PROCESANDO='S'where mesas_mysql.ID=".$idMesa;   	return $this->CON->manipular($consulta);   }function hablilitarMesaProcesando($idMesa){	   	 $consulta="update mesas_mysqlset mesas_mysql.PROCESANDO=''    where mesas_mysql.ID=".$idMesa;   	return $this->CON->manipular($consulta);   }function habilitarMesa($idMesa){	  $consulta="update mesas_mysql	 set mesas_mysql.PROCESANDO='',	  USO='',	  NROPERSONA='',	  NROORDEN='0',	  NOM_CLI='',	  COLORES=''	   where ID=".$idMesa;   	return $this->CON->manipular($consulta);}function aumentarNroOrden($nroOrden,$idMesa){$consulta="update mesas_mysql	 set mesas_mysql.NROORDEN=".$nroOrden."	    where ID=".$idMesa;   	return $this->CON->manipular($consulta);	}function modificarMesa($id){$consulta="update mesas_mysql	 set mesas_mysql.NRO_MESA=".$this->NRO_MESA.",	 	ESTADO='".$this->ESTADO."',	 	ORDEN='".$this->ORDEN."'	    where ID=".$id;   	return $this->CON->manipular($consulta);	}function eliminarMesa($id){	$consulta="update mesas_mysql	 set mesas_mysql.ESTADO='ELIMINADO'	    where ID=".$id;   	return $this->CON->manipular($consulta);	}function modificarTodo($id) {  $consulta="update mesas_mysql set NRO_MESA='".$this->NRO_MESA."', ESTADO='".$this->ESTADO."',USO='".$this->USO."',ORDEN=".$this->ORDEN.",COLORES='".$this->COLORES."',PROCESANDO='".$this->PROCESANDO."',DELETEADO='".$this->DELETEADO."',NROPERSONA='".$this->NROPERSONA."',NROORDEN='".$this->NROORDEN."',NOM_CLI='".$this->NOM_CLI."'  where ID=".$id; return $this->CON->manipular($consulta);}}